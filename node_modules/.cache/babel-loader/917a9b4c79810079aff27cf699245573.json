{"ast":null,"code":"import{useQuery}from\"react-query\";import{fetchCoinHistory}from\"../api\";import ApexChart from\"react-apexcharts\";import{jsx as _jsx}from\"react/jsx-runtime\";function Chart(_ref){var coinId=_ref.coinId;var _useQuery=useQuery([\"ohlcv\",coinId],function(){return fetchCoinHistory(coinId);},{refetchInterval:5000}),isLoading=_useQuery.isLoading,data=_useQuery.data;return/*#__PURE__*/_jsx(\"div\",{children:isLoading?\"Loading chart...\":/*#__PURE__*/_jsx(ApexChart,{type:\"candlestick\",series:[{data:data===null||data===void 0?void 0:data.map(function(price){return{x:price.time_close,y:[price.open,price.high,price.low,price.close]};})}],options:{theme:{mode:\"dark\"},chart:{type:\"candlestick\",height:800,background:\"transparent\",toolbar:{show:false}},grid:{show:false},xaxis:{type:\"datetime\",labels:{show:false},axisBorder:{show:false},axisTicks:{show:false}},yaxis:{show:false}}})});}export default Chart;","map":{"version":3,"sources":["/Users/siabaek/Desktop/노마드코더/Crypto_Tracker/src/routes/Chart.tsx"],"names":["useQuery","fetchCoinHistory","ApexChart","Chart","coinId","refetchInterval","isLoading","data","map","price","x","time_close","y","open","high","low","close","theme","mode","chart","type","height","background","toolbar","show","grid","xaxis","labels","axisBorder","axisTicks","yaxis"],"mappings":"AAAA,OAASA,QAAT,KAAyB,aAAzB,CACA,OAASC,gBAAT,KAAiC,QAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,kBAAtB,C,2CAiBA,QAASC,CAAAA,KAAT,MAAuC,IAAtBC,CAAAA,MAAsB,MAAtBA,MAAsB,CACrC,cAA4BJ,QAAQ,CAClC,CAAC,OAAD,CAAUI,MAAV,CADkC,CAElC,iBAAMH,CAAAA,gBAAgB,CAACG,MAAD,CAAtB,EAFkC,CAGlC,CAAEC,eAAe,CAAE,IAAnB,CAHkC,CAApC,CAAQC,SAAR,WAAQA,SAAR,CAAmBC,IAAnB,WAAmBA,IAAnB,CAMA,mBACE,qBACGD,SAAS,CACR,kBADQ,cAGR,KAAC,SAAD,EACE,IAAI,CAAC,aADP,CAEE,MAAM,CAAE,CACN,CACEC,IAAI,CAAEA,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEC,GAAN,CAAU,SAACC,KAAD,QAAY,CAC1BC,CAAC,CAAED,KAAK,CAACE,UADiB,CAE1BC,CAAC,CAAE,CAACH,KAAK,CAACI,IAAP,CAAaJ,KAAK,CAACK,IAAnB,CAAyBL,KAAK,CAACM,GAA/B,CAAoCN,KAAK,CAACO,KAA1C,CAFuB,CAAZ,EAAV,CADR,CADM,CAFV,CAUE,OAAO,CAAE,CACPC,KAAK,CAAE,CACLC,IAAI,CAAE,MADD,CADA,CAIPC,KAAK,CAAE,CACLC,IAAI,CAAE,aADD,CAELC,MAAM,CAAE,GAFH,CAGLC,UAAU,CAAE,aAHP,CAILC,OAAO,CAAE,CACPC,IAAI,CAAE,KADC,CAJJ,CAJA,CAYPC,IAAI,CAAE,CAAED,IAAI,CAAE,KAAR,CAZC,CAaPE,KAAK,CAAE,CACLN,IAAI,CAAE,UADD,CAELO,MAAM,CAAE,CAAEH,IAAI,CAAE,KAAR,CAFH,CAGLI,UAAU,CAAE,CAAEJ,IAAI,CAAE,KAAR,CAHP,CAILK,SAAS,CAAE,CAAEL,IAAI,CAAE,KAAR,CAJN,CAbA,CAmBPM,KAAK,CAAE,CACLN,IAAI,CAAE,KADD,CAnBA,CAVX,EAJJ,EADF,CA0CD,CACD,cAAerB,CAAAA,KAAf","sourcesContent":["import { useQuery } from \"react-query\";\nimport { fetchCoinHistory } from \"../api\";\nimport ApexChart from \"react-apexcharts\";\n\ninterface ChartProps {\n  coinId: string;\n}\n\ninterface IHistorical {\n  time_open: string;\n  time_close: string;\n  open: number;\n  high: number;\n  low: number;\n  close: number;\n  volume: number;\n  market_cap: number;\n}\n\nfunction Chart({ coinId }: ChartProps) {\n  const { isLoading, data } = useQuery<IHistorical[]>(\n    [\"ohlcv\", coinId],\n    () => fetchCoinHistory(coinId),\n    { refetchInterval: 5000 }\n  );\n\n  return (\n    <div>\n      {isLoading ? (\n        \"Loading chart...\"\n      ) : (\n        <ApexChart\n          type=\"candlestick\"\n          series={[\n            {\n              data: data?.map((price) => ({\n                x: price.time_close,\n                y: [price.open, price.high, price.low, price.close],\n              })),\n            },\n          ]}\n          options={{\n            theme: {\n              mode: \"dark\",\n            },\n            chart: {\n              type: \"candlestick\",\n              height: 800,\n              background: \"transparent\",\n              toolbar: {\n                show: false,\n              },\n            },\n            grid: { show: false },\n            xaxis: {\n              type: \"datetime\",\n              labels: { show: false },\n              axisBorder: { show: false },\n              axisTicks: { show: false },\n            },\n            yaxis: {\n              show: false,\n            },\n          }}\n        />\n      )}\n    </div>\n  );\n}\nexport default Chart;\n"]},"metadata":{},"sourceType":"module"}